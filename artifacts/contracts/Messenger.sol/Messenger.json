{
  "_format": "hh-sol-artifact-1",
  "contractName": "Messenger",
  "sourceName": "contracts/Messenger.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "to",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "encryptedContent",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "MessageSent",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "publicKey",
          "type": "string"
        }
      ],
      "name": "PublicKeyUpdated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_index",
          "type": "uint256"
        }
      ],
      "name": "getMessage",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "sender",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "receiver",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "encryptedContent",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            }
          ],
          "internalType": "struct Messenger.Message",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getMessagesCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_user",
          "type": "address"
        }
      ],
      "name": "getPublicKey",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "messages",
      "outputs": [
        {
          "internalType": "address",
          "name": "sender",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "receiver",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "encryptedContent",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "publicKeys",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_to",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "_encryptedContent",
          "type": "string"
        }
      ],
      "name": "sendMessage",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "_publicKey",
          "type": "string"
        }
      ],
      "name": "setPublicKey",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600f57600080fd5b506112358061001f6000396000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063857cdbb81161005b578063857cdbb8146100ef57806386f79edb1461011f578063a3d6f9a91461014f578063de6f24bb1461017f5761007d565b80630d80fefd146100825780633d0c46d0146100b55780636f6fc077146100d3575b600080fd5b61009c600480360381019061009791906108fc565b61019b565b6040516100ac9493929190610a09565b60405180910390f35b6100bd6102a3565b6040516100ca9190610a55565b60405180910390f35b6100ed60048036038101906100e89190610ad5565b6102af565b005b61010960048036038101906101049190610b4e565b610352565b6040516101169190610b7b565b60405180910390f35b610139600480360381019061013491906108fc565b610423565b6040516101469190610c68565b60405180910390f35b61016960048036038101906101649190610b4e565b6105ee565b6040516101769190610b7b565b60405180910390f35b61019960048036038101906101949190610c8a565b61068e565b005b600081815481106101ab57600080fd5b90600052602060002090600402016000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169080600201805461021a90610d19565b80601f016020809104026020016040519081016040528092919081815260200182805461024690610d19565b80156102935780601f1061026857610100808354040283529160200191610293565b820191906000526020600020905b81548152906001019060200180831161027657829003601f168201915b5050505050908060030154905084565b60008080549050905090565b8181600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002091826102fd929190610f30565b503373ffffffffffffffffffffffffffffffffffffffff167fa850082d2fb101274de37494dc864e9277de33c04415c7ad9db57592c60511a5838360405161034692919061103c565b60405180910390a25050565b6060600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805461039e90610d19565b80601f01602080910402602001604051908101604052809291908181526020018280546103ca90610d19565b80156104175780601f106103ec57610100808354040283529160200191610417565b820191906000526020600020905b8154815290600101906020018083116103fa57829003601f168201915b50505050509050919050565b61042b610868565b6000805490508210610472576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610469906110ac565b60405180910390fd5b60008281548110610486576104856110cc565b5b90600052602060002090600402016040518060800160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160028201805461055b90610d19565b80601f016020809104026020016040519081016040528092919081815260200182805461058790610d19565b80156105d45780601f106105a9576101008083540402835291602001916105d4565b820191906000526020600020905b8154815290600101906020018083116105b757829003601f168201915b505050505081526020016003820154815250509050919050565b6001602052806000526040600020600091509050805461060d90610d19565b80601f016020809104026020016040519081016040528092919081815260200182805461063990610d19565b80156106865780601f1061065b57610100808354040283529160200191610686565b820191906000526020600020905b81548152906001019060200180831161066957829003601f168201915b505050505081565b600060405180608001604052803373ffffffffffffffffffffffffffffffffffffffff1681526020018573ffffffffffffffffffffffffffffffffffffffff16815260200184848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050815260200142815250908060018154018082558091505060019003906000526020600020906004020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160020190816107ed91906110fb565b506060820151816003015550508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f7e49d574e0305424aa957cb3f69b25f92aa58d53fdee73f05e40019210a70bce84844260405161085b939291906111cd565b60405180910390a3505050565b6040518060800160405280600073ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160608152602001600081525090565b600080fd5b600080fd5b6000819050919050565b6108d9816108c6565b81146108e457600080fd5b50565b6000813590506108f6816108d0565b92915050565b600060208284031215610912576109116108bc565b5b6000610920848285016108e7565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061095482610929565b9050919050565b61096481610949565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b838110156109a4578082015181840152602081019050610989565b60008484015250505050565b6000601f19601f8301169050919050565b60006109cc8261096a565b6109d68185610975565b93506109e6818560208601610986565b6109ef816109b0565b840191505092915050565b610a03816108c6565b82525050565b6000608082019050610a1e600083018761095b565b610a2b602083018661095b565b8181036040830152610a3d81856109c1565b9050610a4c60608301846109fa565b95945050505050565b6000602082019050610a6a60008301846109fa565b92915050565b600080fd5b600080fd5b600080fd5b60008083601f840112610a9557610a94610a70565b5b8235905067ffffffffffffffff811115610ab257610ab1610a75565b5b602083019150836001820283011115610ace57610acd610a7a565b5b9250929050565b60008060208385031215610aec57610aeb6108bc565b5b600083013567ffffffffffffffff811115610b0a57610b096108c1565b5b610b1685828601610a7f565b92509250509250929050565b610b2b81610949565b8114610b3657600080fd5b50565b600081359050610b4881610b22565b92915050565b600060208284031215610b6457610b636108bc565b5b6000610b7284828501610b39565b91505092915050565b60006020820190508181036000830152610b9581846109c1565b905092915050565b610ba681610949565b82525050565b600082825260208201905092915050565b6000610bc88261096a565b610bd28185610bac565b9350610be2818560208601610986565b610beb816109b0565b840191505092915050565b610bff816108c6565b82525050565b6000608083016000830151610c1d6000860182610b9d565b506020830151610c306020860182610b9d565b5060408301518482036040860152610c488282610bbd565b9150506060830151610c5d6060860182610bf6565b508091505092915050565b60006020820190508181036000830152610c828184610c05565b905092915050565b600080600060408486031215610ca357610ca26108bc565b5b6000610cb186828701610b39565b935050602084013567ffffffffffffffff811115610cd257610cd16108c1565b5b610cde86828701610a7f565b92509250509250925092565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610d3157607f821691505b602082108103610d4457610d43610cea565b5b50919050565b600082905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610de67fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610da9565b610df08683610da9565b95508019841693508086168417925050509392505050565b6000819050919050565b6000610e2d610e28610e23846108c6565b610e08565b6108c6565b9050919050565b6000819050919050565b610e4783610e12565b610e5b610e5382610e34565b848454610db6565b825550505050565b600090565b610e70610e63565b610e7b818484610e3e565b505050565b5b81811015610e9f57610e94600082610e68565b600181019050610e81565b5050565b601f821115610ee457610eb581610d84565b610ebe84610d99565b81016020851015610ecd578190505b610ee1610ed985610d99565b830182610e80565b50505b505050565b600082821c905092915050565b6000610f0760001984600802610ee9565b1980831691505092915050565b6000610f208383610ef6565b9150826002028217905092915050565b610f3a8383610d4a565b67ffffffffffffffff811115610f5357610f52610d55565b5b610f5d8254610d19565b610f68828285610ea3565b6000601f831160018114610f975760008415610f85578287013590505b610f8f8582610f14565b865550610ff7565b601f198416610fa586610d84565b60005b82811015610fcd57848901358255600182019150602085019450602081019050610fa8565b86831015610fea5784890135610fe6601f891682610ef6565b8355505b6001600288020188555050505b50505050505050565b82818337600083830152505050565b600061101b8385610975565b9350611028838584611000565b611031836109b0565b840190509392505050565b6000602082019050818103600083015261105781848661100f565b90509392505050565b7f496e646578206f7574206f6620626f756e647300000000000000000000000000600082015250565b6000611096601383610975565b91506110a182611060565b602082019050919050565b600060208201905081810360008301526110c581611089565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6111048261096a565b67ffffffffffffffff81111561111d5761111c610d55565b5b6111278254610d19565b611132828285610ea3565b600060209050601f8311600181146111655760008415611153578287015190505b61115d8582610f14565b8655506111c5565b601f19841661117386610d84565b60005b8281101561119b57848901518255600182019150602085019450602081019050611176565b868310156111b857848901516111b4601f891682610ef6565b8355505b6001600288020188555050505b505050505050565b600060408201905081810360008301526111e881858761100f565b90506111f760208301846109fa565b94935050505056fea26469706673582212204e5f7f27c2d14027cc24b37e1e7c7fdf890e376eb4ef7609f40556452803c15364736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061007d5760003560e01c8063857cdbb81161005b578063857cdbb8146100ef57806386f79edb1461011f578063a3d6f9a91461014f578063de6f24bb1461017f5761007d565b80630d80fefd146100825780633d0c46d0146100b55780636f6fc077146100d3575b600080fd5b61009c600480360381019061009791906108fc565b61019b565b6040516100ac9493929190610a09565b60405180910390f35b6100bd6102a3565b6040516100ca9190610a55565b60405180910390f35b6100ed60048036038101906100e89190610ad5565b6102af565b005b61010960048036038101906101049190610b4e565b610352565b6040516101169190610b7b565b60405180910390f35b610139600480360381019061013491906108fc565b610423565b6040516101469190610c68565b60405180910390f35b61016960048036038101906101649190610b4e565b6105ee565b6040516101769190610b7b565b60405180910390f35b61019960048036038101906101949190610c8a565b61068e565b005b600081815481106101ab57600080fd5b90600052602060002090600402016000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169080600201805461021a90610d19565b80601f016020809104026020016040519081016040528092919081815260200182805461024690610d19565b80156102935780601f1061026857610100808354040283529160200191610293565b820191906000526020600020905b81548152906001019060200180831161027657829003601f168201915b5050505050908060030154905084565b60008080549050905090565b8181600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002091826102fd929190610f30565b503373ffffffffffffffffffffffffffffffffffffffff167fa850082d2fb101274de37494dc864e9277de33c04415c7ad9db57592c60511a5838360405161034692919061103c565b60405180910390a25050565b6060600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805461039e90610d19565b80601f01602080910402602001604051908101604052809291908181526020018280546103ca90610d19565b80156104175780601f106103ec57610100808354040283529160200191610417565b820191906000526020600020905b8154815290600101906020018083116103fa57829003601f168201915b50505050509050919050565b61042b610868565b6000805490508210610472576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610469906110ac565b60405180910390fd5b60008281548110610486576104856110cc565b5b90600052602060002090600402016040518060800160405290816000820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160028201805461055b90610d19565b80601f016020809104026020016040519081016040528092919081815260200182805461058790610d19565b80156105d45780601f106105a9576101008083540402835291602001916105d4565b820191906000526020600020905b8154815290600101906020018083116105b757829003601f168201915b505050505081526020016003820154815250509050919050565b6001602052806000526040600020600091509050805461060d90610d19565b80601f016020809104026020016040519081016040528092919081815260200182805461063990610d19565b80156106865780601f1061065b57610100808354040283529160200191610686565b820191906000526020600020905b81548152906001019060200180831161066957829003601f168201915b505050505081565b600060405180608001604052803373ffffffffffffffffffffffffffffffffffffffff1681526020018573ffffffffffffffffffffffffffffffffffffffff16815260200184848080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f82011690508083019250505050505050815260200142815250908060018154018082558091505060019003906000526020600020906004020160009091909190915060008201518160000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160020190816107ed91906110fb565b506060820151816003015550508273ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f7e49d574e0305424aa957cb3f69b25f92aa58d53fdee73f05e40019210a70bce84844260405161085b939291906111cd565b60405180910390a3505050565b6040518060800160405280600073ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160608152602001600081525090565b600080fd5b600080fd5b6000819050919050565b6108d9816108c6565b81146108e457600080fd5b50565b6000813590506108f6816108d0565b92915050565b600060208284031215610912576109116108bc565b5b6000610920848285016108e7565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061095482610929565b9050919050565b61096481610949565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b838110156109a4578082015181840152602081019050610989565b60008484015250505050565b6000601f19601f8301169050919050565b60006109cc8261096a565b6109d68185610975565b93506109e6818560208601610986565b6109ef816109b0565b840191505092915050565b610a03816108c6565b82525050565b6000608082019050610a1e600083018761095b565b610a2b602083018661095b565b8181036040830152610a3d81856109c1565b9050610a4c60608301846109fa565b95945050505050565b6000602082019050610a6a60008301846109fa565b92915050565b600080fd5b600080fd5b600080fd5b60008083601f840112610a9557610a94610a70565b5b8235905067ffffffffffffffff811115610ab257610ab1610a75565b5b602083019150836001820283011115610ace57610acd610a7a565b5b9250929050565b60008060208385031215610aec57610aeb6108bc565b5b600083013567ffffffffffffffff811115610b0a57610b096108c1565b5b610b1685828601610a7f565b92509250509250929050565b610b2b81610949565b8114610b3657600080fd5b50565b600081359050610b4881610b22565b92915050565b600060208284031215610b6457610b636108bc565b5b6000610b7284828501610b39565b91505092915050565b60006020820190508181036000830152610b9581846109c1565b905092915050565b610ba681610949565b82525050565b600082825260208201905092915050565b6000610bc88261096a565b610bd28185610bac565b9350610be2818560208601610986565b610beb816109b0565b840191505092915050565b610bff816108c6565b82525050565b6000608083016000830151610c1d6000860182610b9d565b506020830151610c306020860182610b9d565b5060408301518482036040860152610c488282610bbd565b9150506060830151610c5d6060860182610bf6565b508091505092915050565b60006020820190508181036000830152610c828184610c05565b905092915050565b600080600060408486031215610ca357610ca26108bc565b5b6000610cb186828701610b39565b935050602084013567ffffffffffffffff811115610cd257610cd16108c1565b5b610cde86828701610a7f565b92509250509250925092565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b60006002820490506001821680610d3157607f821691505b602082108103610d4457610d43610cea565b5b50919050565b600082905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610de67fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610da9565b610df08683610da9565b95508019841693508086168417925050509392505050565b6000819050919050565b6000610e2d610e28610e23846108c6565b610e08565b6108c6565b9050919050565b6000819050919050565b610e4783610e12565b610e5b610e5382610e34565b848454610db6565b825550505050565b600090565b610e70610e63565b610e7b818484610e3e565b505050565b5b81811015610e9f57610e94600082610e68565b600181019050610e81565b5050565b601f821115610ee457610eb581610d84565b610ebe84610d99565b81016020851015610ecd578190505b610ee1610ed985610d99565b830182610e80565b50505b505050565b600082821c905092915050565b6000610f0760001984600802610ee9565b1980831691505092915050565b6000610f208383610ef6565b9150826002028217905092915050565b610f3a8383610d4a565b67ffffffffffffffff811115610f5357610f52610d55565b5b610f5d8254610d19565b610f68828285610ea3565b6000601f831160018114610f975760008415610f85578287013590505b610f8f8582610f14565b865550610ff7565b601f198416610fa586610d84565b60005b82811015610fcd57848901358255600182019150602085019450602081019050610fa8565b86831015610fea5784890135610fe6601f891682610ef6565b8355505b6001600288020188555050505b50505050505050565b82818337600083830152505050565b600061101b8385610975565b9350611028838584611000565b611031836109b0565b840190509392505050565b6000602082019050818103600083015261105781848661100f565b90509392505050565b7f496e646578206f7574206f6620626f756e647300000000000000000000000000600082015250565b6000611096601383610975565b91506110a182611060565b602082019050919050565b600060208201905081810360008301526110c581611089565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b6111048261096a565b67ffffffffffffffff81111561111d5761111c610d55565b5b6111278254610d19565b611132828285610ea3565b600060209050601f8311600181146111655760008415611153578287015190505b61115d8582610f14565b8655506111c5565b601f19841661117386610d84565b60005b8281101561119b57848901518255600182019150602085019450602081019050611176565b868310156111b857848901516111b4601f891682610ef6565b8355505b6001600288020188555050505b505050505050565b600060408201905081810360008301526111e881858761100f565b90506111f760208301846109fa565b94935050505056fea26469706673582212204e5f7f27c2d14027cc24b37e1e7c7fdf890e376eb4ef7609f40556452803c15364736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
